### Assumes current directory is: core/smartbody/sbm/bin
### Simple Template Seq Script
### Assumes this seq script is put under ../smartbody/test_suite directory

# ---- Loading data/sbm-common assets
0	path seq ../../../../data/sbm-common/scripts
0	path seq ../../../../test_suite/input/steering_test/data
0	path ME ../../../../test_suite/input/steering_test/data
0	path ME ../../../../data/sbm-common/common-sk
0	echo >>> Loading common motions and poses...
0	load motions -R ../../../../data/sbm-common/common-sk
0	load poses   -R ../../../../data/sbm-common/common-sk

# ---- Using virtual timing
0	time sleepfps 0
0	time simfps 60
0	time reset

# ---- Setting characters and default posture
0	panim enable
0	test locomotion initialize
1	char utah init ChrUtah.sk
1	test loco char utah anim standing HandsAtSide_Motex
1	test loco char utah anim walking Walk 17 28 4 37 9 23
1	test loco char utah anim walking Strafe 25 39 1 52 25 27
1	char utah smoothbindweight ../../../../test_suite/input/steering_test/data/utah.xml
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/headShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Arm_Lt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Arm_Rt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Pants_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Shirt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Shoe_Lt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Shoe_Rt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Apron_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Eye_Lt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Uth_Eye_Rt_MshShape.obj
1	char utah smoothbindmesh ../../../../test_suite/input/steering_test/data/Itm_SpectaclesShape.obj
1	set test character utah
1	char utah viewer 4
1	test bml character utah noecho posture LHandOnHip_Motex
1	seq init-param-animation-utah
1	test loco char utah enable

# ---- Setting Camera Parameters
# * Assumes doctor scaled character standing near the origin, as is about 200 units tall
1	viewer open   600 600  400 50
1	camera eye    160 150 800
1	camera center 40 150 0
1	pawn camera init loc 0 166 185
1	set pawn camera world_offset x 0 y 166 z 185

# ---- Actual testing
3	steer start
3	steer type example
5	bml char utah <locomotion target="300 300"/>
6	snapshot
7	snapshot
10	bml char utah <locomotion target="-300 -300" facing="0"/>
13	snapshot
16	snapshot
20	snapshot
23	snapshot
25	steer type procedural
25	bml char utah <locomotion target="0 0" facing="190"/>
27	snapshot
30	snapshot
32  quit

