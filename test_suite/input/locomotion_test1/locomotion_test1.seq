### Assumes current directory is: core/smartbody/sbm/bin
### Simple Template Seq Script
### Assumes this seq script is put under ../smartbody/test_suite directory

# ---- Loading data/sbm-common assets
0	path seq ../../../../data/sbm-common/scripts
0	path ME ../../../../data/sbm-common/common-sk
0	echo >>> Loading common motions and poses...
0	load motions -R ../../../../data/sbm-common/common-sk
0	load poses   -R ../../../../data/sbm-common/common-sk

# ---- Using virtual timing
0	time sleepfps 0
0	time simfps 60

# ---- Setting characters and default posture
#  Common-sk assets are centered on the pelvis,
#  placed 102 units above the ground plane.
#  Using Unia (Unreal-based) class names for renderer assets
#  Using remote rVoice speech synthesis
#  NOTE: increment time to insure common-init is processed in order.
1	char doctor init common.sk SasoBase.SasoDoctorPerez
1	set character doctor world_offset x 35 y 102 h -17
1	set character doctor voice remote M021

#  Using "test bml" command to avoid hard-coding
#  message id into sequence file.
1	test bml character doctor noecho posture LHandOnHip_Motex

# ---- Setting Camera Parameters
# * Assumes doctor scaled character standing near the origin, as is about 200 units tall
1	viewer open   1200 700  10 10
1	camera eye    0 166 -700
1	camera center 10 92 0
#  Reference location for gazing
#  * This pawn does not follow the viewer camera
#  * Bug in pawn location/rotation initialization,
#    so set it once after initialization
1	pawn camera init loc 0 166 185
1	set pawn camera world_offset x 0 y 166 z 185

1	set test character doctor


#	locomotion_test.seq
#	Contributed by Jingqiao Fu of USC
3 test loco enable
8	test loco dz 30
9	snapshot 700 1200
10 	test loco stop
10	camera eye    100 92 -400
10	camera center 300 92 500

10	test loco dx 40
14	snapshot 700 1200
15 	test loco stop
16	test loco dx -40 dz -30
17	snapshot 700 1200
18 	test loco stop
20	test loco dz 80 rps 1.5 id 0
22	snapshot 700 1200
24	test loco dx 60 lrps 1.0 id 1
26	snapshot 700 1200
28 	test loco stop
32	test loco dx 60 dz 60 grps 1.5 id 0
34	snapshot 700 1200
36	test loco dx 60 lrps 2.0 id 1
38	snapshot 700 1200
40  	test loco stop
42	quit